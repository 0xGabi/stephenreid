<table class="table">
  <thead>
    <tr>
      <th>number</th>
      <th>major arcana</th>
      <% TarotSuit.suits.each { |suit_name| %>
        <th>
          <%=suit_name%>
          <i data-toggle="tooltip" title="<%= TarotSuit.icons[suit_name.to_sym][0] %>" class="fas fa-<%= TarotSuit.icons[suit_name.to_sym][1] %>"></i>                    
        </th>
      <% } %>
    </tr>
  </thead>
  <tbody>
    <% TarotNumber.numbers.each_with_index { |n,i| %>
      <tr>
        <td>
          <%=n%>
        </td>
        <td>
          <% begin %>
            <% if t = TarotCard.find_by(tarot_suit: nil, tarot_number: TarotNumber.find_by(name: n)) %>
              <a target="_blank" href="<%=t.teachmetarot_url%>"><%=t.name%></a>
            <% end; rescue; end %>
        </td>
        <% TarotSuit.suits.each { |suit_name| %>
          <td>
            <% begin %>
              <% if t = TarotCard.find_by(tarot_suit: TarotSuit.find_by(name: suit_name), tarot_number: TarotNumber.find_by(name: n)) %>
                <a target="_blank" href="<%=t.teachmetarot_url%>"><%=t.name%></a>
              <% end; rescue; end %>
          </td>
        <% } %>
      </tr>
    <% } %>
  </tbody>
</table>